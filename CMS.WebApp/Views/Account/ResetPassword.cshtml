@using CMS.Models.Authen.Users
@model ResetPasswordRequest
@{

    Layout = "~/Views/Shared/_LayoutLogin.cshtml";
}

<div class="row flex-center min-vh-100 py-6 text-center">
    <div class="col-sm-10 col-md-8 col-lg-6 col-xl-5 col-xxl-4">
        <a class="d-flex flex-center mb-4" href="@Url.Action("login", "account")">
            <img class="me-2" src="/assets/img/icons/spot-illustrations/chatbot.png" alt="" width="58" />
            <span class="font-sans-serif fw-bolder fs-5 d-inline-block">iChatCMS</span>
        </a>
        <div class="card">
            <div class="card-body p-4 p-sm-5">
                <h5 class="mb-0">Đặt lại mật khẩu</h5><small>Nhập mật khẩu mới của bạn.</small>
                <form class="mt-4" asp-action="resetpassword" asp-controller="account" method="post">
                    <input type="hidden" asp-for="Id" value="@Model.Id" />
                    <input type="hidden" asp-for="Token" value="@Model.Token" />
                    <div class="mb-3">
                        <input asp-for="NewPassword" value="@Model.NewPassword" class="form-control" placeholder="Mật khẩu mới" />
                        <span asp-validation-for="NewPassword" class="text-danger w-100 text-start d-block"></span>
                    </div>
                    <div class="mb-3">
                        <input asp-for="ConfirmPassword" value="@Model.ConfirmPassword" class="form-control" placeholder="Nhập lại mật khẩu mới" />
                        <span asp-validation-for="ConfirmPassword" class="text-danger w-100 text-start d-block"></span>
                    </div>
                    @if (!string.IsNullOrEmpty(ViewBag.Error))
                    {
                        <div class="alert alert-danger pt-2 pb-2 mt-1 mb-3" role="alert">
                            @ViewBag.Error
                        </div>
                    }
                    else if (!string.IsNullOrEmpty(ViewBag.Message))
                    {
                        <div class="alert alert-success pt-2 pb-2 mt-1 mb-3" role="alert">
                            @ViewBag.Message
                        </div>
                    }
                    <button class="btn btn-primary fw-semi-bold d-block w-100 mt-3" type="submit" name="submit">Cập nhật</button>
                </form>
                <a class="fs--1 text-600" href="@Url.Action("login", "account")">Trở về trang đăng nhập<span class="d-inline-block ms-1">&rarr;</span></a>
            </div>
        </div>
    </div>
</div>
